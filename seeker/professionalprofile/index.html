<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional page</title>
    <style>
       @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Libre+Baskerville:wght@400;700&display=swap');

* {
    margin: 0;
    padding: 0;
    font-family: "inter";
}
.title{
    text-align: center;
    margin-bottom: 30px;
    font-size: 20px;
    color: #3795b3;
}
.container {
    background-color: #fff;
    border-radius: 100px 0;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 420px;
    margin: 0 auto;
    padding: 40px;
    margin-top: 50px;
    border: 2px solid #3795b3;
}
 .profile input[type="text"]{
     border-bottom: 1px solid;
     border-top: none;
     border-left: none;
     border-right: none;
     border-radius: 4px;
     padding: 5px;
     width: 85%;
     margin-bottom: 20px;
     transition: background-color 0.3s ease;
 }
 .profile label{
    margin-right: 15%;
    font-size: 14px;
 }
textarea {
    width: 90%;
    padding: 8px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 5px;
    resize: vertical;
    margin-top: 10px;
}
.profile input[type="submit"] {
    background-color: #279574;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 10px;
    font-size: 16px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    margin:0 auto;
    margin-top: 10px;
    width: 80%;
} 

@media(max-width: 500px) {
    .container {
        width: 90%;
        padding: 20px;
    }

    .title {
        font-size: 18px;
    }

    .profile label {
        margin-right: 10%;
    }

    .profile input[type="text"],
    textarea {
        font-size: 14px;
    }

    .profile input[type="submit"] {
        font-size: 14px;
    }
}
    </style>
</head>

<body>
    <section class="perofProfile">
          <div class="container">
            <div class="title"><h3>Professional profile</h3></div>
            <div class="profile">
                <form action="http://localhost:1276/professionalprofile" method="POST" onsubmit="return formvalidation()" id="myForm" enctype="multipart/form-data">
                    <label for="address">Address</label><br>
                            <select id="region" name="region" class="js-example-basic-single" required>
                                <option value="" disabled selected>Select your region</option>
                                <option value="Oromia">Oromia</option>
                                <option value="Amhara">Amhara</option>
                                <option value="Tigray">Tigray</option>
                                <option value="Somali">Somali</option>
                                <option value="Gambela">Gambela</option>
                                <option value="Addis Ababa">Addis Ababa</option>
                                <option value="Harari">Harari</option>
                                <option value="Affar">Affar</option>
                                <option value="Sidama">Sidama</option>
                                <option value="Benishangul-Gumuz">SNNPR</option>
                                <option value="Dire Dawa">Dire Dawa</option>
                            </select>
                            
                            <input type="city" name="city" placeholder="city" id="city" required><br>
                            <label>
                                <input type="radio" name="gender" value="male" required> Male
                              </label>
                              <label>
                                <input type="radio" name="gender" value="female" required> Female
                              </label>
                          
                            <textarea name="skillmessage" id="skillmessage" cols="25" rows="5" placeholder="Skills and work experience in one paragraph"  required></textarea>
                            <textarea name="summary" id="summary" cols="25" rows="5" placeholder="Professional summary" required></textarea><br>
                            <!-- Add this input inside the second form (Professional profile form) -->
        <label for="profilePicture">Upload Profile Picture</label>
        <input type="file" id="profilePicture" name="profilePicture" accept="image/*" required>
        
                            <label for="file">Add your CV PDF file</label>
                            <input type="file" id="file" name="file" accept="application/pdf" required> <br>
                            <input type="submit" value="Submit" id="submit">
                </form>
            </div>

          </div>
    </section>
    <script>
function formValidation()
{
    var city = document.getElementById("city").value;
    var skillmessage = document.getElementById("skillmessage").value;
    var summary = document.getElementById("summary").value;
    var file = document.getElementById("file").value;

}
function updateError(inputId, isValid,  Message)
{
    var errorElement=document.getElementById("error");
    if(errorElement.textContent=isValid)
    {
        document.getElementById(inputId).style.borderColor="green";
        errorElement.textContent="âœ…";
    }
    else
    {
        document.getElementById(inputId).style.borderColor="red";
        errorElement.textContent=Message;
    }
}

function addInputListener(inputId, regex, errorMessage)
{
    document.getElementById(inputId).addEventListener("input", function()
    {
        var value = this.value;
        var isValid = regex.test(value);
        updateError(inputId, isValid, errorMessage);
    });
}


addInputListener("city",/^[a-zA-Z  ]{3,20}$/, "ðŸš«only letters, atleast 3 character");
addInputListener("skillmessage",/[^.!?]*[.!?]/, "ðŸš«at least one sentence");
addInputListener("summary",/[^.!?]*[.!?]/, "ðŸš«at least one sentence");
document.getElementById("file").addEventListener("change", function (){
    var fileInput = document.getElementById('file');
    var fileInput = this;
    var maxFileSizeMB = 5;
    var fileNAme = fileInput.files[0].name;
    var pdfRegex = /\.pdf$/i;
            var isValid = fileInput.files.length > 0 && pdfRegex.test(fileNAme) && fileInput.files[0].size <= maxFileSizeMB * 1024 * 1024;
            updateError("file", isValid, "Please upload an pdf file.");
});
function checkFormValidity() {
    var isFormValid =
        isInputValid("city") &&
        isInputValid("skillmessage") &&
        isInputValid("summary") &&
        isInputValid("file");

    document.getElementById("submit").disabled = !isFormValid;
}

function isInputValid(inputId) {
    return document.getElementById(inputId).style.borderColor === "green";
}

document.getElementById("myform").addEventListener("submit", function (event) {
    if (!isFormValid()) {
        event.preventDefault();
        document.getElementById("error").textContent = "ðŸš«Please fill the form correctlyðŸš«";
        document.getElementById("error").style.color = "red";
    

    }

});

function isFormValid() {
    return (
        isInputValid("city") &&
        isInputValid("skillmessage") &&
        isInputValid("summary") &&
        isInputValid("file")
    );
}



    </script>
</body>

</html>